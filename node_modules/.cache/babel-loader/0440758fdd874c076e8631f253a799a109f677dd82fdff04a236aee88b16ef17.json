{"ast":null,"code":"import React,{useState}from'react';import'./OTPVerification.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OTPVerification=_ref=>{let{email,onVerify,onResend,onCancel}=_ref;const[otp,setOtp]=useState(['','','','','','']);const[error,setError]=useState('');const[loading,setLoading]=useState(false);const handleChange=(element,index)=>{if(isNaN(element.value))return false;setOtp([...otp.map((d,idx)=>idx===index?element.value:d)]);// Focus next input\nif(element.value&&element.nextSibling){element.nextSibling.focus();}};const handleKeyDown=(e,index)=>{// Handle backspace\nif(e.key==='Backspace'){setOtp([...otp.map((d,idx)=>idx===index?'':d)]);// Focus previous input\nif(e.target.previousSibling){e.target.previousSibling.focus();}}};const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{const otpString=otp.join('');if(otpString.length!==6){throw new Error('Please enter a valid 6-digit OTP');}await onVerify(otpString);}catch(error){setError(error.message||'Failed to verify OTP. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"otp-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"OTP Verification\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Enter the 6-digit code sent to \",email]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"otp-error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"otp-input-group\",children:otp.map((data,index)=>/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:\"1\",value:data,onChange:e=>handleChange(e.target,index),onKeyDown:e=>handleKeyDown(e,index),className:\"otp-input\",disabled:loading},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"otp-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"otp-verify-button\",disabled:loading,children:loading?'Verifying...':'Verify OTP'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"otp-cancel-button\",onClick:onCancel,disabled:loading,children:\"Cancel\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"otp-resend\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"otp-resend-button\",onClick:onResend,disabled:loading,children:\"Resend OTP\"})})]})]});};export default OTPVerification;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","OTPVerification","_ref","email","onVerify","onResend","onCancel","otp","setOtp","error","setError","loading","setLoading","handleChange","element","index","isNaN","value","map","d","idx","nextSibling","focus","handleKeyDown","e","key","target","previousSibling","handleSubmit","preventDefault","otpString","join","length","Error","message","className","children","onSubmit","data","type","maxLength","onChange","onKeyDown","disabled","onClick"],"sources":["C:/Users/BHARGAVI/OneDrive/Desktop/New/client/src/components/Auth/OTPVerification.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './OTPVerification.css';\r\n\r\nconst OTPVerification = ({ email, onVerify, onResend, onCancel }) => {\r\n  const [otp, setOtp] = useState(['', '', '', '', '', '']);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (element, index) => {\r\n    if (isNaN(element.value)) return false;\r\n\r\n    setOtp([...otp.map((d, idx) => (idx === index ? element.value : d))]);\r\n\r\n    // Focus next input\r\n    if (element.value && element.nextSibling) {\r\n      element.nextSibling.focus();\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e, index) => {\r\n    // Handle backspace\r\n    if (e.key === 'Backspace') {\r\n      setOtp([...otp.map((d, idx) => (idx === index ? '' : d))]);\r\n\r\n      // Focus previous input\r\n      if (e.target.previousSibling) {\r\n        e.target.previousSibling.focus();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const otpString = otp.join('');\r\n      if (otpString.length !== 6) {\r\n        throw new Error('Please enter a valid 6-digit OTP');\r\n      }\r\n\r\n      await onVerify(otpString);\r\n    } catch (error) {\r\n      setError(error.message || 'Failed to verify OTP. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"otp-container\">\r\n      <h2>OTP Verification</h2>\r\n      <p>Enter the 6-digit code sent to {email}</p>\r\n\r\n      {error && <div className=\"otp-error\">{error}</div>}\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"otp-input-group\">\r\n          {otp.map((data, index) => (\r\n            <input\r\n              key={index}\r\n              type=\"text\"\r\n              maxLength=\"1\"\r\n              value={data}\r\n              onChange={e => handleChange(e.target, index)}\r\n              onKeyDown={e => handleKeyDown(e, index)}\r\n              className=\"otp-input\"\r\n              disabled={loading}\r\n            />\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"otp-actions\">\r\n          <button \r\n            type=\"submit\" \r\n            className=\"otp-verify-button\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? 'Verifying...' : 'Verify OTP'}\r\n          </button>\r\n          <button \r\n            type=\"button\" \r\n            className=\"otp-cancel-button\"\r\n            onClick={onCancel}\r\n            disabled={loading}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"otp-resend\">\r\n          <button \r\n            type=\"button\" \r\n            className=\"otp-resend-button\"\r\n            onClick={onResend}\r\n            disabled={loading}\r\n          >\r\n            Resend OTP\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OTPVerification; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}